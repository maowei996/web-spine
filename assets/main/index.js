System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(E){var N;return{setters:[function(E){N=E.cclegacy}],execute:function(){N._RF.push({},"ab0d5Ig2d9CvIOYQDmI8H/n","Define",void 0);var _=E("EventType",function(E){return E[E.NONE=0]="NONE",E[E.REFRESH_SKELETON=1]="REFRESH_SKELETON",E[E.CHANGE_SPINE=2]="CHANGE_SPINE",E[E.CHANGE_SPINE_ANIMATION=3]="CHANGE_SPINE_ANIMATION",E[E.UPDATE_SPINE_SKIN=4]="UPDATE_SPINE_SKIN",E[E.OPENOROFF_DEBUG=5]="OPENOROFF_DEBUG",E[E.CHANGE_SPINE_LOOP=6]="CHANGE_SPINE_LOOP",E[E.UPDATE_SCALE=7]="UPDATE_SCALE",E[E.CREATE_SPINE=8]="CREATE_SPINE",E[E.CHANGE_CONTROL=9]="CHANGE_CONTROL",E}({}));E("EventData",(function(){this.eventType=_.NONE,this.param=null}));N._RF.pop()}}}));

System.register("chunks:///_virtual/Drag.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,s,c,u,p,h,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Camera,c=e.find,u=e.Node,p=e.Vec3,h=e.UITransform,l=e.Component}],execute:function(){var d,v,f,m,T;i._RF.push({},"d1deehH4W1JQJWFbWpuKrnz","Drag",void 0);var g=a.ccclass,y=a.property;e("Drag",(d=g("Drag"),v=y(s),d((T=t((m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"Camera3D",T,r(t)),t._distance=0,t}n(t,e);var i=t.prototype;return i.start=function(){var e=c("Canvas/Camera");this.Camera3D=e.getComponent(s),this.node.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this._distance=.5},i.onTouchStart=function(e){},i.onTouchMove=function(e){this.moveBox(e.getLocation())},i.moveBox=function(e){var t=this.Camera3D.screenToWorld(new p(e.x,e.y,this._distance));this.node.position=this.node.parent.getComponent(h).convertToNodeSpaceAR(t)},t}(l)).prototype,"Camera3D",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonMgr.ts"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.EventTarget},function(t){o=t.default}],execute:function(){e._RF.push({},"8c5bbdDMY1BdJ4WpqLWzUM1","EventManager",void 0);t("default",function(t){function e(){var n;return(n=t.call(this)||this).event=null,n.initialize(),n}n(e,t);var o=e.prototype;return o.initialize=function(){this.event=new i},o.emit=function(t,n){this.event.emit(t,n)},o.on=function(t,n,e){this.event.on(t,n,e)},o.off=function(t,n,e){this.off(t,n,e)},e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/FileOper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Html5.ts","./SpineData.ts","./SkeletManager.ts","./Define.ts"],(function(t){var e,a,s,n,i,l,o,r,_,h,u,c;return{setters:[function(t){e=t.inheritsLoose,a=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,n=t._decorator,i=t.sp,l=t.Component},function(t){o=t.default},function(t){r=t.Html5},function(t){_=t.SpineData},function(t){h=t.SkeletManager},function(t){u=t.EventData,c=t.EventType}],execute:function(){var p;s._RF.push({},"5b2a9oF91RJjYIyEwttaok5","FileOper",void 0);var D=n.ccclass;n.property,t("FileOper",D("FileOper")(p=function(t){function s(){for(var e,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this)._bComplete=!1,e._bBinary=!1,e._bJson=!1,e._jsonData=null,e._atlasData=null,e._skeletData=null,e._textureData=null,e._textureDatas=[],e._pngNames=[],e._pngName="defa",e._url="",e._key="",e._nativeUrl="",e}e(s,t);var n=s.prototype;return n.rest=function(){this._bComplete=!1,this._bBinary=!1,this._bJson=!1,this._jsonData=null,this._atlasData=null,this._skeletData=null,this._textureData=null,this._textureDatas.length=0,this._pngNames=[],this._pngName="defa",this._url="",this._key="",this._nativeUrl="",this.node.active=!1},n.checkComplect=function(){this._atlasData&&this._textureDatas.length>0&&(this._jsonData||this._skeletData)&&(console.log("[FileOper]:数据读取完成"),this._bComplete=!0,this._bJson=!!this._jsonData,this._bBinary=!!this._skeletData),this._bComplete&&this.addSkeletonData()},n.addSkeletonData=function(){var t,e;if(h.getInstance().isHas(this._key))alert("重复加载!!!");else{var s=new i.SkeletonData;this._bJson?(s.skeletonJson=this._jsonData,s.atlasText=this._atlasData,s.textures=this._textureDatas,s.textureNames=this._pngNames):(s._nativeAsset=this._skeletData,s.atlasText=this._atlasData,s.textures=this._textureDatas,s.textureNames=this._pngNames,s._uuid=this._pngName+"skel_spine",s._nativeUrl=this._nativeUrl);var n=new _;n.bJson=this._bJson,n.bBinary=this._bBinary,n.name=this._pngName,n.url=this._url,n.key=this._key,n._jsonData=this._jsonData,n._atlasData=this._atlasData,n._skeletData=this._skeletData,n._textureData=this._textureData,n.skeletonData=s,s.skeletonJson&&s.skeletonJson.skeleton&&(n.width=s.skeletonJson.skeleton.width,n.height=s.skeletonJson.skeleton.height,n.version=s.skeletonJson.skeleton.spine);var l=s.skeletonJson||new Object,r=l.animations||[],p=l.skins||[],D=l.events||{};for(var k in n.bones=null==(t=l.bones)?void 0:t.length,n.slots=null==(e=l.slots)?void 0:e.length,r)n.animations.push(k);if(p instanceof Array)for(var v,f=a(p);!(v=f()).done;){var m=v.value;n.skins.push(m.name)}else n.skins.push("default");for(var g in D)n.events.push(g);n.defanimation=n.animations[0],h.getInstance().add(n);var d=new u;d.eventType=c.CREATE_SPINE,d.param=n,o.getInstance().emit("machine",d),this.rest()}},n.onPng=function(){var t=this;r.readTexture2d(".png",(function(e,a,s){t._textureData=s,t._textureDatas.push(s),t._pngNames.push(e),t._pngName=e,t._url=a,t.checkComplect()}))},n.onJsonData=function(){var t=this;r.readLocalFile(".json",1,(function(e,a){t._jsonData=a,t._key=e.split(".")[0],t.checkComplect()}))},n.onAtlasData=function(){var t=this;r.readLocalFile(".atlas",1,(function(e,a){t._atlasData=a,t.checkComplect()}))},n.onSkelData=function(){var t=this;r.readLocalFile(".skel",3,(function(e,a,s){t._key=e.split(".")[0],t._nativeUrl=s,t._skeletData=a,t.checkComplect()}))},s}(l))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/FileTools.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"a33bf+zzulEgafshba+BHy+","FileTools",void 0);var t=function(e){return e[e.DATA_URL=0]="DATA_URL",e[e.TEXT=1]="TEXT",e[e.BINARY=2]="BINARY",e[e.ARRAYBUFFER=3]="ARRAYBUFFER",e}(t||{});e("default",function(){function e(){}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var n=e.prototype;return n.readLocalFile=function(e,n,a){if(e){var r=new FileReader;r.onload=function(e){var n=null;r.readyState==FileReader.DONE&&(n=r.result),a&&a(n)},n==t.DATA_URL?r.readAsDataURL(e):n==t.TEXT?r.readAsText(e):n==t.BINARY?r.readAsBinaryString(e):n==t.ARRAYBUFFER&&r.readAsArrayBuffer(e)}else console.log("readLocalFile_ file:null!!")},n.saveData=function(e,n){var t=new Blob([e],{type:"application/json"}),a=document.createElement("a");a.download=n,a.innerHTML="Download File",null!=window.webkitURL?a.href=window.webkitURL.createObjectURL(t):(a.href=window.URL.createObjectURL(t),a.style.display="none",document.body.appendChild(a)),a.click()},e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/Html5.ts",["cc","./FileTools.ts"],(function(e){var t,n,i,o,a;return{setters:[function(e){t=e.cclegacy,n=e.sys,i=e.ImageAsset,o=e.Texture2D},function(e){a=e.default}],execute:function(){t._RF.push({},"d1c44NJG8BNAYuZrqD/fcjV","Html5",void 0);var l={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",bmp:"image/bmp"};function r(e){if(e){var t,n=e.type;return n||(n=l[e.name.match(/\.([^\.]+)$/i)[1]]),t=e,null!=window.URL?window.URL.createObjectURL(t):window.webkitURL.createObjectURL(t)}console.log("SelectFile error!")}e("Html5",function(){function e(){}return e.HtmlFileInput=function(e,t){var n=document.getElementById("file_input");n||((n=document.createElement("input")).id="file_input",n.setAttribute("id","file"),n.setAttribute("type","file"),n.setAttribute("class","fileToUpload"),n.style.opacity="0",n.style.position="absolute",n.setAttribute("left","-999px"),document.body.appendChild(n)),n.setAttribute("accept",e||"*"),n.onchange=function(e){var i=n.files;if(i&&i.length>0){var o=i[0];t&&t(o)}},n.onclick=function(){n.remove()},n.click()},e.createElementDiv=function(e){var t=document.createElement("div"),n=document.createTextNode("拖入Spine文件到此处{png,json,atlas/skel}");document.body.appendChild(t),document.body.appendChild(t),t.id="dragDiv",t.className="dragDivClass",t.style.width="150px",t.style.height="170px",t.style.border="1px solid rgb(255, 0, 0)",t.appendChild(n),t.style.position="absolute",t.style.left="0px",t.style.top="380px",t.addEventListener("dragover",(function(e){e.preventDefault()})),t.addEventListener("drop",(function(t){t.preventDefault();var n=t.dataTransfer.files;if(0==n.length)return!1;e&&e(n)}))},e.setClipboardData=function(e){if(!e||""==e)return window.alert("文本无效");if("MOBILE_BROWSER"!=n.platform&&"DESKTOP_BROWSER"!=n.platform)window.alert("暂不支持该平台复制");else{if(!document.queryCommandSupported("copy"))return void window.alert("浏览器不支持");var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length);document.execCommand("copy");t.remove()}},e.LoadImage=function(e,t,n){var a=r(e),l=document.getElementById("divCreator");l||(l=document.createElement("div"),document.body.appendChild(l),l.style.position="absolute",l.id="divCreator",l.style.backgroundColor="#ffffcc"),l.innerHTML="<img id=imghead>";var d=document.getElementById("imghead");d.src=a,d.onload=function(){console.log("=========LoadImage.image.onload");var e=d.currentSrc,t=new i(d),a=new o;a.image=t,n&&n(e,a)},l.style.display="none",l.style.visibility="hidden"},e.readLocalFile=function(t,n,i){void 0===n&&(n=1),e.HtmlFileInput(t,(function(e){a.getInstance().readLocalFile(e,n,(function(t){var n=r(e);i&&i(e.name,t,n)}))}))},e.readTexture2d=function(t,n){e.HtmlFileInput(t,(function(t){e.LoadImage(t,null,(function(e,i){n&&n(t.name,e,i)}))}))},e.getFileUrl=function(e){return r(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemOption.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,c,r,o,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,c=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,u=t.Component}],execute:function(){var s,p,f,m,h;o._RF.push({},"ce578Lep1RG5o9P2gT7hkjd","ItemOption",void 0);var b=a.ccclass,_=a.property;t("ItemOption",(s=b("ItemOption"),p=_(l),s((h=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"label",h,c(e)),e._itemName="",e._cbClickfunc=void 0,e}i(e,t);var o=e.prototype;return o.updateLabel=function(){this.label.string=this._itemName},o.onclick=function(){var t=this.itemName.split("*")[0];this._cbClickfunc&&this._cbClickfunc(t)},r(e,[{key:"itemName",get:function(){return this._itemName},set:function(t){this._itemName=t,this.updateLabel()}},{key:"clickFunc",get:function(){return this._cbClickfunc},set:function(t){this._cbClickfunc=t}}]),e}(u)).prototype,"label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Machine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Define.ts","./SkeletManager.ts","./Html5.ts","./Spine.ts"],(function(e){var t,n,i,a,r,l,s,o,p,u,c,f,b,g,h,m,S,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Prefab,o=e.Sprite,p=e.sp,u=e.Label,c=e.instantiate,f=e.Vec3,b=e.Component},function(e){g=e.default},function(e){h=e.EventType},function(e){m=e.SkeletManager},function(e){S=e.Html5},function(e){k=e.Spine}],execute:function(){var z,v,y,E,d,_,L,I,w,N,M,P,C,D,A,T,H,O,U,R,j,B,F,G,x,J,K,V,Z,q,Q;r._RF.push({},"c3a9fybJtdLx4tCl3ZVxMrH","Machine",void 0);var W=l.ccclass,X=l.property;e("Machine",(z=W("Machine"),v=X(s),y=X(o),E=X(p.Skeleton),d=X(u),_=X(u),L=X(u),I=X(u),w=X(u),N=X(u),M=X(u),P=X(u),C=X(u),D=X(u),A=X(u),z((O=t((H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"SpinePrefab",O,a(t)),i(t,"sp",U,a(t)),i(t,"skeleton",R,a(t)),i(t,"fpsLaebl",j,a(t)),i(t,"szLaebl",B,a(t)),i(t,"versionLaebl",F,a(t)),i(t,"bonesLaebl",G,a(t)),i(t,"slotsLaebl",x,a(t)),i(t,"timeScale",J,a(t)),i(t,"spineName",K,a(t)),i(t,"pngsz",V,a(t)),i(t,"atlassz",Z,a(t)),i(t,"jsonsz",q,a(t)),i(t,"skelsz",Q,a(t)),t._mapSpine=new Map,t.spineJson=null,t.spineAtlas=null,t.spineTexture=null,t}n(t,e);var r=t.prototype;return r.start=function(){g.getInstance().on("machine",this.onEvent,this),S.createElementDiv((function(e){m.getInstance().parse(e)}))},r.onEvent=function(e){console.log("[Machine]收到了事件消息_type:",e.eventType);var t=e.eventType,n=this.skeleton;if(t==h.REFRESH_SKELETON)n.skeletonData=e.param.skeletonData,n.animation=e.param.defanimation,e.param.bBinary&&(e.param.parse(e.param.skeletonData._skeletonCache),n.animation=e.param.defanimation),this.updateUI(),console.log("onEvent.skeleton:",n);else if(t==h.CHANGE_SPINE){console.log("切换角色");var i=e.param,a=m.getInstance().get(i);if(this._mapSpine.has(i)){var r=this._mapSpine.get(i);r.active=!r.active;var l=r.getComponent(k);m.getInstance().skelet=a,this.skeleton=l.getSkeleton(),this.updateUI()}}else if(t==h.CHANGE_SPINE_ANIMATION)n.animation=e.param;else if(t==h.UPDATE_SPINE_SKIN)n.setSkin(e.param);else if(t==h.OPENOROFF_DEBUG){var s=this.skeleton;s&&(s.debugBones=!0,s.debugSlots=!0,s.debugMesh=!0)}else if(t==h.CHANGE_SPINE_LOOP)n.loop=e.param;else if(t==h.UPDATE_SCALE)n.node.setScale(e.param,e.param,1);else if(t==h.CREATE_SPINE){var o=e.param;if(this._mapSpine.has(o.key))return;var p=c(this.SpinePrefab);this.node.addChild(p),p.position=new f(0,0,1),this._mapSpine.set(o.key,p);var u=p.getComponent(k);u.setSpineData(o),this.skeleton=u.getSkeleton(),o.bBinary&&(o.parseto(),this.skeleton.animation=o.defanimation),this.updateUI()}else if(t==h.CHANGE_CONTROL){console.log("更新当前操作Spine");var b=e.param;if(!this._mapSpine.has(b.key))return;var g=this._mapSpine.get(b.key);m.getInstance().skelet=b,this.skeleton=g.getComponent(k).getSkeleton(),this.updateUI()}},r.updateUI=function(){var e=m.getInstance().skelet;this.fpsLaebl.string="fps:"+(0==e.fps?30:e.fps).toString(),this.szLaebl.string="width:"+Math.ceil(e.width)+" height:"+Math.ceil(e.height),this.versionLaebl.string="version:"+e.version,this.bonesLaebl.string="bones:"+e.bones,this.slotsLaebl.string="slots:"+e.slots,this.timeScale.string="timeScale:"+this.skeleton.timeScale,this.spineName.string="name:"+e.key,this.pngsz.string="png:"+e.pngsz,this.atlassz.string="atla:"+e.atlassz,this.jsonsz.string="json:"+e.jsonsz,this.skelsz.string="skel:"+e.skelsz},r.onDisable=function(){g.getInstance().off("machine",this.onEvent,this)},t}(b)).prototype,"SpinePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(H.prototype,"sp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(H.prototype,"skeleton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"fpsLaebl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(H.prototype,"szLaebl",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"versionLaebl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(H.prototype,"bonesLaebl",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(H.prototype,"slotsLaebl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"timeScale",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(H.prototype,"spineName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"pngsz",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(H.prototype,"atlassz",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"jsonsz",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"skelsz",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=H))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./SkeletManager.ts","./SpineData.ts","./Define.ts","./EventManager.ts","./Machine.ts","./FileOper.ts","./ItemOption.ts","./Menu.ts","./OptionScrollview.ts","./SpineOption.ts","./SingletonMgr.ts","./Drag.ts","./Spine.ts","./FileTools.ts","./Html5.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Menu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletManager.ts","./OptionScrollview.ts","./Define.ts","./EventManager.ts"],(function(e){var n,t,i,a,o,l,r,s,u,c,p,v,f,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,r=e._decorator,s=e.Node,u=e.Component},function(e){c=e.SkeletManager},function(e){p=e.OptionScrollview},function(e){v=e.EventData,f=e.EventType},function(e){h=e.default}],execute:function(){var P,g,m,E,I,k,O,S,N,M,b,y,d;l._RF.push({},"88d4fTaC9pOSLwHQGdxrl1o","Menu",void 0);var A=r.ccclass,T=r.property,L=function(e){return e[e.FILE=0]="FILE",e[e.SKEL=1]="SKEL",e[e.ANIMATION=2]="ANIMATION",e[e.SKIN=3]="SKIN",e[e.EVENT=4]="EVENT",e[e.MAX=255]="MAX",e}(L||{});e("Menu",(P=A("Menu"),g=T(s),m=T(s),E=T(s),I=T(s),k=T(s),P((N=n((S=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,i(n,"fileOperPanel",N,a(n)),i(n,"animationPanel",M,a(n)),i(n,"skinPanel",b,a(n)),i(n,"skeletonPanel",y,a(n)),i(n,"eventPanel",d,a(n)),n._loop=!0,n}t(n,e);var l=n.prototype;return l.start=function(){},l.updateOperPanle=function(e,n){this.fileOperPanel.active=e==L.FILE&&n,this.animationPanel.active=e==L.ANIMATION&&n,this.skinPanel.active=e==L.SKIN&&n,this.skeletonPanel.active=e==L.SKEL&&n,this.eventPanel.active=e==L.EVENT&&n},l.onFileMenu=function(){var e=this.fileOperPanel.active;this.fileOperPanel.active=!e,this.updateOperPanle(L.FILE,!e)},l.onSkeleron=function(){var e=this.skeletonPanel.active;if(this.skeletonPanel.active=!e,this.updateOperPanle(L.SKEL,!e),!e){var n=c.getInstance().skeletons;if(!n)return console.log("[Menu]:not SpineData!!");for(var t,i=[],a=o(n);!(t=a()).done;){var l=t.value;l.key&&i.push(l.key)}i.length<1&&(i.push("没有Spine!"),i.push("嘻嘻")),this.skeletonPanel.getComponent(p).setData(1,i)}},l.onAnimation=function(){var e=this.animationPanel.active;if(this.animationPanel.active=!e,this.updateOperPanle(L.ANIMATION,!e),!e){var n=c.getInstance().skelet;if(!n)return console.log("[Menu]:not SpineData!!");var t=n.animations||[];t.length<1&&(t.push("没有时间线!"),t.push("嘻嘻")),this.animationPanel.getComponent(p).setData(2,t)}},l.onSkin=function(){var e=this.skinPanel.active;if(this.skinPanel.active=!e,this.updateOperPanle(L.SKIN,!e),!e){var n=c.getInstance().skelet;if(!n)return console.log("[Menu]:not SpineData!!");var t=n.skins||[];t.length<1&&(t.push("没有皮肤!"),t.push("哈哈")),this.skinPanel.getComponent(p).setData(3,t)}},l.onEvent=function(){var e=this.eventPanel.active;if(this.eventPanel.active=!e,this.updateOperPanle(L.EVENT,!e),!e){var n=[],t=c.getInstance().skelet;t&&(n=t.events),n.length<1&&(n.push("没有事件!"),n.push("哈哈")),this.eventPanel.getComponent(p).setData(4,n)}},l.onToggleDebug=function(){this.updateOperPanle(L.MAX,!1)},l.onToggleLoop=function(){this._loop=!this._loop;var e=new v;e.eventType=f.CHANGE_SPINE_LOOP,e.param=this._loop,h.getInstance().emit("machine",e)},l.inputEvent=function(e){var n=Number(e.string);console.log("========输入完成!",n);var t=new v;t.eventType=f.UPDATE_SCALE,t.param=n,h.getInstance().emit("machine",t)},n}(u)).prototype,"fileOperPanel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(S.prototype,"animationPanel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(S.prototype,"skinPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(S.prototype,"skeletonPanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(S.prototype,"eventPanel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=S))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/OptionScrollview.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemOption.ts","./Define.ts","./EventManager.ts","./Html5.ts"],(function(i){var t,e,n,o,a,r,s,c,l,p,u,v,h,f,_;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Prefab,c=i.ScrollView,l=i.instantiate,p=i.Component},function(i){u=i.ItemOption},function(i){v=i.EventType,h=i.EventData},function(i){f=i.default},function(i){_=i.Html5}],execute:function(){var m,w,y,d,C,N,O;a._RF.push({},"4793bJ9a+lDepO/Pw2B7BAX","OptionScrollview",void 0);var S=r.ccclass,b=r.property,A=function(i){return i[i.none=0]="none",i[i.Spine_view=1]="Spine_view",i[i.Animation_view=2]="Animation_view",i[i.Skin_viwe=3]="Skin_viwe",i[i.Event_view=4]="Event_view",i[i.MAX=255]="MAX",i}(A||{});i("OptionScrollview",(m=S("OptionScrollview"),w=b(s),y=b(Number),m((N=t((C=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"itemOption",N,o(t)),n(t,"viewType",O,o(t)),t._data=null,t._curChooseName="",t._spineOptionClick=null,t}e(t,i);var a=t.prototype;return a.start=function(){},a.setOptionCallBack=function(i){this._spineOptionClick=i},a.skeletons=function(i){this._data=i,i&&i instanceof Array&&this.loadLisit(i)},a.setData=function(i,t){this.viewType=i,this._data=t,t&&t instanceof Array&&this.loadLisit(t)},a.loadLisit=function(i){var t=this.getComponent(c).content;t.removeAllChildren();for(var e=0;e<i.length;e++){var n=l(this.itemOption);t.addChild(n);var o=n.getComponent(u);o.itemName=i[e],o.clickFunc=function(i){if(this._spineOptionClick)return this._spineOptionClick(i),void _.setClipboardData(i);this.viewType!=A.Event_view?this.choose(i):_.setClipboardData(i)}.bind(this)}},a.choose=function(i){console.log("choose:",i,this._curChooseName),this._curChooseName=i,this.notify()},a.notify=function(){var i=0;this.viewType==A.Spine_view?i=v.CHANGE_SPINE:this.viewType==A.Animation_view?(i=v.CHANGE_SPINE_ANIMATION,_.setClipboardData(this._curChooseName)):this.viewType==A.Skin_viwe&&(i=v.UPDATE_SPINE_SKIN,_.setClipboardData(this._curChooseName));var t=new h;t.eventType=i,t.param=this._curChooseName,f.getInstance().emit("machine",t)},t}(p)).prototype,"itemOption",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(C.prototype,"viewType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=C))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonMgr.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"fd699lVqk1H54q8mG0S3gjd","SingletonMgr",void 0);n("default",function(){function n(){}return n.getInstance=function(){return this.__instance||(this.__instance=new this),this.__instance},n.destroy=function(){this.__instance&&(this.__instance=null)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpineData.ts","./Html5.ts","./Define.ts","./FileTools.ts","./EventManager.ts"],(function(e){var t,a,s,n,i,l,o,r,u,p;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){s=e.cclegacy,n=e.sp},function(e){i=e.SpineData},function(e){l=e.Html5},function(e){o=e.EventData,r=e.EventType},function(e){u=e.default},function(e){p=e.default}],execute:function(){s._RF.push({},"ec798MJuCRGSYoLR6kiN9Ed","SkeletManager",void 0);var d=function(){this.textures=void 0,this.atlasData=void 0};e("SkeletManager",function(){function e(){this._skeletons=[],this._map=new Map,this._curskeleton=null,this._IspNode=null,this._assertCash=new d}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var s=e.prototype;return s.add=function(e){this._map.has(e.key)||(this._map.set(e.key,e),this._skeletons.push(e),this.skelet=e)},s.get=function(e){return this._map.get(e)},s.isHas=function(e){return!!this._map.has(e)},s.find=function(e){for(var a,s=null,n=t(this._skeletons);!(a=n()).done;){var i=a.value;if(i.key==e){s=i;break}}return s},s.destroy=function(){this._map=null},s.parse=function(e){var t=this;if(1==e.length){var a=e[0].name.split(".")[1];return"json"==a||"skel"==a?this.parseOnefile(e):void alert("解析错误,格式不正确!")}for(var s={json:1,atlas:1,png:1,skel:3},n=e.length,i={},o={},r={},p=0;p<e.length;p++){var d=e[p],c=d.name.split(".")[1];if(s[c]){i[c]=!0,o[c]={file:e[p],readType:s[c]};var v=d.name;r[v]={file:e[p],readType:s[c],fileType:c}}}if(this._IspNode={url:"",key:"",pngName:"",nativeUrl:"",binary:!1,bjson:!1},i.png&&i.atlas&&(this._IspNode.bjson=i.json,this._IspNode.binary=i.skel),this._IspNode.bjson||this._IspNode.binary){var h="";if(h=o.json?o.json.file.name.split(".")[0]:o.skel.file.name.split(".")[0],this.isHas(h))alert("已经加载过这个Spine动画!");else{var f=0,k={png:[]},_=function(e,a,s,i){void 0===i&&(i="");var l={size:r[s].file.size/1024|1,data:a,name:e,nativeUrl:i},o=s.split(".")[1];"png"===o?k[o].push(l):k[o]=l,++f==n&&t.loadSpine(k)},g=function(e){var t=r[e];"png"!=t.fileType?u.getInstance().readLocalFile(t.file,t.readType,(function(a){_(t.file.name,a,e,l.getFileUrl(t.file))})):l.LoadImage(t.file,null,(function(a,s){_(t.file.name,s,e,a)}))};for(var m in r)g(m)}}else alert("解析错误,格式不正确!")},s.parseOnefile=function(e){var t=this;if(this._assertCash.textures){var a=e[0],s=a.name.split(".")[1],n=a.name.split(".")[0];if(this.isHas(n))alert("已经加载过这个Spine动画!");else{this._IspNode.bjson="json"==s,this._IspNode.binary="skel"==s;var i={};i.png=this._assertCash.textures,i.atlas=this._assertCash.atlasData;u.getInstance().readLocalFile(a,1,(function(n){!function(a,n,l,o){void 0===o&&(o="");var r={size:e[0].size/1024|1,data:n,name:a,nativeUrl:o};i[s]=r,t.loadSpine(i)}(a.name,n,0,l.getFileUrl(a))}))}}else alert("还没有加载过png/atlas文件!")},s.loadSpine=function(e){var a,s,l,u;console.log("数据读取完成"),console.log(e);for(var d,c=0,v=[],h=[],f=t(e.png);!(d=f()).done;){var k=d.value;v.push(k.data),h.push(k.name),c+=k.size}var _=new n.SkeletonData;_.atlasText=e.atlas.data,_.textures=v,_.textureNames=h,this._IspNode.bjson?_.skeletonJson=e.json.data:(_._nativeAsset=e.skel.data,_._uuid=h[0]+"skel_spine",_._nativeUrl=e.skel.nativeUrl);var g=new i;g.bJson=this._IspNode.bjson,g.bBinary=this._IspNode.binary,g.name=h[0],g.url=v[0].nativeUrl,g._textureData=v[0].data,g._atlasData=e.atlas.data,g._jsonData=null==(a=e.json)?void 0:a.data,g._skeletData=null==(s=e.skel)?void 0:s.data;var m="";m=e.skel?e.skel.name.split(".")[0]:e.json.name.split(".")[0],g.key=m,g.pngsz=c+"kb",g.atlassz=e.atlas.size+"kb",g.jsonsz=(null==(l=e.json)?void 0:l.size)+"kb",g.skelsz=(null==(u=e.skel)?void 0:u.size)+"kb",g.skeletonData=_,g.parseto(),console.log(g),this.add(g);var y=new o;y.eventType=r.CREATE_SPINE,y.param=g,this._assertCash.textures=e.png,this._assertCash.atlasData=e.atlas,p.getInstance().emit("machine",y)},s.loadSpine_older=function(e){var t,a,s,l;console.log("数据读取完成"),console.log(e);var u=new n.SkeletonData;u.atlasText=e.atlas.data,u.textures=[e.png.data],u.textureNames=[e.png.name],this._IspNode.bjson?u.skeletonJson=e.json.data:(u._nativeAsset=e.skel.data,u._uuid=e.png.name+"skel_spine",u._nativeUrl=e.skel.nativeUrl);var d=new i;d.bJson=this._IspNode.bjson,d.bBinary=this._IspNode.binary,d.name=e.png.name,d.url=e.png.nativeUrl,d._textureData=e.png.data,d._atlasData=e.atlas.data,d._jsonData=null==(t=e.json)?void 0:t.data,d._skeletData=null==(a=e.skel)?void 0:a.data;var c="";c=e.skel?e.skel.name.split(".")[0]:e.json.name.split(".")[0],d.key=c,d.pngsz=e.png.size+"kb",d.atlassz=e.atlas.size+"kb",d.jsonsz=(null==(s=e.atlas)?void 0:s.size)+"kb",d.skelsz=(null==(l=e.skel)?void 0:l.size)+"kb",d.skeletonData=u,d.parseto(),console.log(d),this.add(d);var v=new o;v.eventType=r.CREATE_SPINE,v.param=d,p.getInstance().emit("machine",v)},a(e,[{key:"skeletons",get:function(){return this._skeletons}},{key:"skelet",get:function(){return this._curskeleton},set:function(e){this._curskeleton=e}},{key:"count",get:function(){return this._map.size}}]),e}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/Spine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpineOption.ts","./Define.ts","./EventManager.ts"],(function(t){var n,e,i,o,a,s,r,l,c,p,u,h,f,S,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.sp,l=t.find,c=t.Node,p=t.Vec3,u=t.Component},function(t){h=t.SpineOption},function(t){f=t.EventData,S=t.EventType},function(t){v=t.default}],execute:function(){var k,_,d,m,D;a._RF.push({},"62d0fJq28FD850RJ6QmGvxs","Spine",void 0);var y=s.ccclass,T=s.property;t("Spine",(k=y("Spine"),_=T(r.Skeleton),k((D=n((m=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,i(n,"skeleton",D,o(n)),n._spinData=null,n._optionPanle=null,n}e(n,t);var a=n.prototype;return a.start=function(){var t=l("Root/OptionPanel",this.node);t.active=!1,this._optionPanle=t,this._optionPanle.getComponent(h).setSpineControl(this,this._spinData),this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this)},a.onTouchStart=function(t){var n=new f;n.eventType=S.CHANGE_CONTROL,n.param=this._spinData,v.getInstance().emit("machine",n)},a.setSpineData=function(t){this._spinData=t,this.skeleton.skeletonData=t.skeletonData,this.skeleton.animation=t.defanimation},a.getSkeleton=function(){return this.skeleton},a.setSkine=function(t){this.skeleton.setSkin(t)},a.setAnimation=function(t){this.skeleton.animation=t},a.setScale=function(t){this.node.setScale(new p(t,t,1))},a.setTimeScale=function(){},a.setLoop=function(t){this.skeleton.loop=t},a.onOption=function(){this._optionPanle.active=!this._optionPanle.active},n}(u)).prototype,"skeleton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpineData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var t,i;return{setters:[function(s){t=s.createForOfIteratorHelperLoose},function(s){i=s.cclegacy}],execute:function(){i._RF.push({},"5485205nv9FqKEEOqNEBmMP","SpineData",void 0);s("SpineData",function(){function s(){this.bJson=!1,this.bBinary=!1,this.name="",this.key="",this.url="",this.version="0.0.0",this.defanimation="",this._jsonData=null,this._atlasData=null,this._skeletData=null,this._textureData=null,this.width=0,this.height=0,this.fps=0,this.bones=0,this.slots=0,this.meshs=0,this.pngsz="0",this.jsonsz="0",this.atlassz="0",this.skelsz="0",this.skeletonData=null,this.events=new Array,this.skins=new Array,this.animations=[]}var i=s.prototype;return i.parse=function(s){var i,n;this.width=s.width,this.height=s.height,this.version=s.version,this.fps=s.fps;var e=s.animations||[],a=s.skins||[],h=s.events||[];this.bones=null==(i=s.bones)?void 0:i.length,this.slots=null==(n=s.slots)?void 0:n.length;for(var o,r=t(e);!(o=r()).done;){var l=o.value,u=l.name;l.duration>=0&&(u=u+"*"+(l.duration>0?l.duration:0).toString()),this.animations.push(u)}if(a instanceof Array)for(var v,f=t(a);!(v=f()).done;){var p=v.value;this.skins.push(p.name)}else this.skins.push("default");for(var d,m=t(h);!(d=m()).done;){var k=d.value;this.events.push(k.name||"error")}this.defanimation=this.animations[0].split("*")[0]},i.parseto=function(){this.bJson?this.parseJson():this.parseSkel()},i.parseSkel=function(){var s,i,n=this.skeletonData._skeletonCache;if(n){this.width=n.width,this.height=n.height,this.version=n.version,this.fps=n.fps;var e=n.animations||[],a=n.skins||[],h=n.events||[];this.bones=null==(s=n.bones)?void 0:s.length,this.slots=null==(i=n.slots)?void 0:i.length;for(var o,r=t(e);!(o=r()).done;){var l=o.value,u=l.name;l.duration>=0&&(u=u+"*"+(l.duration>0?l.duration:0).toString()),this.animations.push(u)}if(a instanceof Array)for(var v,f=t(a);!(v=f()).done;){var p=v.value;this.skins.push(p.name)}else for(var d in this.skins.push("default"),a)this.skins.push(d);for(var m,k=t(h);!(m=k()).done;){var c=m.value;this.events.push(c.name||"error")}this.animations.length>0&&(this.defanimation=this.animations[0].split("*")[0])}},i.parseJson=function(){var s,i,n=this.skeletonData.skeletonJson;this.width=n.skeleton.width,this.height=n.skeleton.height,this.version=n.skeleton.spine;var e=n.animations||[],a=n.skins||{},h=n.events||{};for(var o in this.bones=null==(s=n.bones)?void 0:s.length,this.slots=null==(i=n.slots)?void 0:i.length,e)this.animations.push(o);if(a instanceof Array)for(var r,l=t(a);!(r=l()).done;){var u=r.value;this.skins.push(u.name)}else for(var v in a)this.skins.push(v);for(var f in h)this.events.push(f);this.defanimation=this.animations[0]},s}());i._RF.pop()}}}));

System.register("chunks:///_virtual/SpineOption.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OptionScrollview.ts"],(function(n){var t,i,e,o,a,s,l,r,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,l=n.Node,r=n.Component},function(n){p=n.OptionScrollview}],execute:function(){var c,u,h,v,f,P,S,g,_;a._RF.push({},"977b2b5bs1HQ4VeRZeR1mGF","SpineOption",void 0);var m=s.ccclass,O=s.property,N=function(n){return n[n.FILE=0]="FILE",n[n.SKEL=1]="SKEL",n[n.ANIMATION=2]="ANIMATION",n[n.SKIN=3]="SKIN",n[n.EVENT=4]="EVENT",n[n.MAX=255]="MAX",n}(N||{});n("SpineOption",(c=m("SpineOption"),u=O(l),h=O(l),v=O(l),c((S=t((P=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,e(t,"animationPanel",S,o(t)),e(t,"skinPanel",g,o(t)),e(t,"eventPanel",_,o(t)),t._loop=!0,t._spineControl=null,t._spinData=null,t}i(t,n);var a=t.prototype;return a.setSpineControl=function(n,t){this._spineControl=n,this._spinData=t},a.updateOperPanle=function(n,t){this.animationPanel.active=n==N.ANIMATION&&t,this.skinPanel.active=n==N.SKIN&&t,this.eventPanel.active=n==N.EVENT&&t},a.onAnimation=function(){var n=this,t=this.animationPanel.active;if(this.animationPanel.active=!t,this.updateOperPanle(N.ANIMATION,!t),!t){if(!this._spinData)return console.log("[SpineOption]:not SpineData!!");var i=this._spinData.animations||[];i.length<1&&i.push("没有时间线!");var e=this.animationPanel.getComponent(p);e.setData(2,i),e.setOptionCallBack((function(t){n.setAnimation(t)}))}},a.onSkin=function(){var n=this,t=this.skinPanel.active;if(this.skinPanel.active=!t,this.updateOperPanle(N.SKIN,!t),!t){if(!this._spinData)return console.log("[SpineOption]:not SpineData!!");var i=this._spinData.skins||[];i.length<1&&i.push("没有皮肤!");var e=this.skinPanel.getComponent(p);e.setData(3,i),e.setOptionCallBack((function(t){n.setSkin(t)}))}},a.onEvent=function(){var n=this.eventPanel.active;if(this.eventPanel.active=!n,this.updateOperPanle(N.EVENT,!n),!n){var t=[];this._spinData&&(t=this._spinData.events),t.length<1&&t.push("没有帧事件!");var i=this.eventPanel.getComponent(p);i.setData(4,t),i.setOptionCallBack((function(n){}))}},a.setAnimation=function(n){this._spineControl.setAnimation(n)},a.setSkin=function(n){this._spineControl.setSkine(n)},a.onCloseView=function(){this.node.active=!1},a.onToggleDebug=function(){this.updateOperPanle(N.MAX,!1)},a.onToggleLoop=function(){this._loop=!this._loop,this._spineControl.setLoop(this._loop)},a.inputEvent=function(n){var t=Number(n.string);console.log("========输入完成!",t),this._spineControl.setScale(t)},t}(r)).prototype,"animationPanel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(P.prototype,"skinPanel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"eventPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=P))||f));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});